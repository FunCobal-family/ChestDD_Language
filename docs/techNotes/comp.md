# 機能・文法比較 - Comparison of Features and Grammars

## 比較表

| 分類 | 項目 | ChestDD | YAML | TOML | JSON | Chess | MessagePack | 備考 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 型/数量 | バイナリ値 | binary<br />(1b)<br />(2b)<br />(Hb) | binary<br />(1b) | - | - | - | - | - |
| 型/数量 | 日時 | datetime<br /> | timestamp<br /> | - | - | - | - | - |
| 型/数量 | 文字列 | - | str<br />`string`(X,U)<br />`"string"`(X,Q) | - | - | - | - | - |
| 型/数量 | 数値 | num(=int\|ptr) | (なし) | - | - | - | - | - |
| 型/数量 | 整数 | int<br />`3`(X) | int<br />`3`(X) | - | - | - | - | - |
| 型/数量 | 小数点数 | ptr<br />`6.4`(X) | float<br />`6.4`(X) | - | - | - | - | - |
| 型/数量 | 論理値 | bool<br />`true`(X) | bool<br />`true`(X) | - | - | - | - | - |
| 型/数量 | ヌル | null<br />`~`, \[empty\]<br />`null`, `Null`, `NULL`<br />`nil`, `Nil`, `NIL` | null<br />`~`, \[empty\]<br />`null`, `Null`, `NULL` | - | - | - | - | - |
| 型/数量 | 既定値 | value<br />`=` | value<br />`=` | - | - | - | - | - |
| 型/数量 | - | - | - | - | - | - | - | - |
| 型/数量 | 自身 | - | yaml<br /> | - | - | - | - | - |
| 型/数量 | 座標 | point\<val:: val<: num\><br />`:(x,y,...)` | (なし) | - | - | - | - | - |
| 型/数量 | 範囲 | range\<val:: val<: num\><br />`:[min- ... max; iv]` | (なし) | - | - | - | - | - |
| 型/構造 | リスト | list | seq<br />`- val`(B)<br />`[val, val,...]`(F) | - | - | - | - | - |
| 型/構造 | マップ | map | map\<Key,val\><br />`key: val`(B)<br />`{key: val, key: val,...}`(F) | - | - | - | - | - |
| 型/構造 | 順序マップ | seq\<Key,val\><br />(list\<map\<Key,val\>\>のエイリアス) | omap<br />`- key: val`(B)<br />`[key: val, key: val,...]`(F) | - | - | - | - | - |
| 型/構造 | 組(KVペア) | pair<br />`key: val` | pairs<br />`key: val` | - | - | - | - | - |
| 型/構造 | 集合 | set\<val\><br />`? val`(B)<br />`(val, val,...)`(F) | set<br />`? val`(B)<br />`{val, val,...}`(F) | - | - | - | - | - |
| 型/構造 | 表 | table\<key\><br />`{\| \|}` | (なし) | - | (なし) | - | - | - |
| 型/構造 | ブロック | block\<tag,val\><br />`[tag]{val, val,...}` | (なし) | - | (なし) | - | - | - |
| 型/構造 | タプル | - | - | - | - | - | - | - |
| 型/構造 | - | - | - | - | - | - | - | - |
| 機能/型 | 型注釈 | `val @type`(E)<br />`!@type val`(P) | `!!type val` | - | (なし) | - | - | - |
| 機能/型 | ユーザ型定義 | `:struct block` | (なし) | - | (なし) | - | - | - |
| 機能/コメント | 単行コメント | `-- text` | `# text` | - | (なし) | - | - | - |
| 機能/コメント | 複行コメント | `{-- text --}` | (なし) | - | (なし) | - | - |
| 機能/ノード | 参照 | `&anc` | `*anc` | - | - | - | - | - |
| 機能/ノード | アンカー | `*anc` | `&anc` | - | - | - | - | - |
| 機能/ノード | データ定義 | `:def` | (なし) | - | - | - | - | - |
| 機能/ノード | 統合 | `:<<[anc,anc,...]` | `<<: [*anc, *anc,...]` | - | - | - | - | - |
| 機能/文書 | 分離ストリーム | `:---` | `---` | - | - | - | - | - |

## 注釈

- \*1 自動認識可能
- \*2 自動認識のみ
- \*3 末尾要素のカンマ自由
- \*4 末尾要素のカンマ禁止
- \*5 JSON Schemaで疑似的には可能
- \*6 この場合は列挙繰り返し可能を意味しない
- \*7 RFC2045,空白・改行なし

## 凡例・補足

比較表において、例示等がある場合、或いは複数の記法スタイルがある場合は以下の修飾を行う。なお、比較表において`...`とある場合は、特に注釈等がなされている場合を除いて列挙繰り返し可能を意味する。

- (X): 例示形
- (C): 正規形
- (S): 標準準拠形
- (Pr): 前置スタイル
- (Po): 後置スタイル
- (B): ブロックスタイル
- (F): フロースタイル
- (Q): 引用符スタイル(文字列関係)
- (U): 非引用符スタイル(文字列関係)
- (Hd): ヒアドキュメントスタイル(文字列関係)
- (Nk): 標準スタイル(数値関係)
- (Rn): 進数指定スタイル(数値関係)
- (E): 指数表記スタイル(数値関係)
- (Rd): 十進固定スタイル(関係)
- (Rh): 十六進固定スタイル(数値関係)
- (Ro): 八進固定スタイル(数値関係)
- (Rb): 二進固定スタイル(数値関係)
- (Rs): 六十進固定スタイル(数値関係)
- (T): 日付スタイル(日時関係)
- (D): 時刻スタイル(日時関係)
- (Ft): タイムゾーンなし日時スタイル(日時関係)
- (Fo): タイムゾーンつき日時スタイル(日時関係)
- (Fd): 既定タイムゾーン日時スタイル(日時関係)
- (Hb): 16進表記スタイル(バイナリ関係)
- (1b): Base64 Type1 Revisedスタイル(バイナリ関係)
- (2b): Base64 Type2 Revisedスタイル(バイナリ関係)

## 定義

コレクション構造の命名について、以下の命名規範を定義する。

- 写像 `map`: 個別の構造へ限定する名辞を付随させる場合を除き、全射性、単射性において制約を持たないもの
- `-`: 全単射であって
- 辞書 `dict`/`dictionary`: 鍵部に注釈データを付随させられ、かつ値部にて特別のジェネリクス指定なしに(順序)リスト及び他鍵への参照を受け付けるもの
